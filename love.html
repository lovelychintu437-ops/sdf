<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Drag Love üíñ</title>

<style>
body{
  margin:0;
  overflow:hidden;
  background: linear-gradient(to top, #ff758c, #ff7eb3);
  user-select:none;
}

/* üíï Hands */
.hand{
  position:absolute;
  bottom:80px;
  width:180px;
  transition:0.2s;
}

#maleHand{
  left:10px;
}

#femaleHand{
  right:10px;
}

/* üíñ Text */
#loveText{
  position:absolute;
  top:35%;
  width:100%;
  text-align:center;
  font-size:60px;
  color:white;
  opacity:0;
  transition:1s;
  text-shadow:0 0 20px white;
}

/* ‚ù§Ô∏è Hearts */
.heart{
  position:absolute;
  bottom:0;
  font-size:24px;
  animation: floatUp 4s linear infinite;
}

@keyframes floatUp{
  from{ transform:translateY(0); opacity:1; }
  to{ transform:translateY(-100vh); opacity:0; }
}
</style>
</head>

<body>

<img id="maleHand" class="hand"
src="https://i.ibb.co/ZYW3VTp/male-hand.png">

<img id="femaleHand" class="hand"
src="https://i.ibb.co/Jq7xZ6K/female-hand.png">

<div id="loveText">I LOVE YOU ‚ù§Ô∏è</div>

<audio id="song"
src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>

<script>

const male = document.getElementById("maleHand");
const female = document.getElementById("femaleHand");
const text = document.getElementById("loveText");
const song = document.getElementById("song");

let dragging = false;
let finished = false;

/* üëâ DRAG START (female hand) */
female.addEventListener("pointerdown", ()=>{
  dragging = true;
});

/* üëâ DRAG MOVE */
window.addEventListener("pointermove", e=>{
  if(!dragging || finished) return;

  const x = e.clientX;

  /* Move female hand */
  female.style.left = (x - female.offsetWidth/2) + "px";
  female.style.right = "auto";

  /* Move male hand automatically toward center */
  male.style.left = (x - male.offsetWidth - 20) + "px";

  checkTouch();
});

/* üëâ DRAG END */
window.addEventListener("pointerup", ()=>{
  dragging = false;
});

/* üíñ Check if hands touched */
function checkTouch(){

  const maleRect = male.getBoundingClientRect();
  const femaleRect = female.getBoundingClientRect();

  if(femaleRect.left <= maleRect.right){

    finished = true;
    startLove();
  }
}

/* üíò Love Trigger */
function startLove(){

  text.style.opacity = "1";
  song.play();

  setInterval(createHeart, 300);
}

/* ‚ù§Ô∏è Floating hearts */
function createHeart(){

  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "‚ù§Ô∏è";

  h.style.left = Math.random()*100 + "vw";
  h.style.fontSize = (20 + Math.random()*30) + "px";

  document.body.appendChild(h);

  setTimeout(()=>h.remove(),4000);
}

</script>

</body>
</html>
